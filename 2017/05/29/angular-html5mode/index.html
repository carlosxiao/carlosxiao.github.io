<!DOCTYPE html>
<html lang="en">

<!-- Head tag -->
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!--Description-->
    
        <meta name="description" content="每种自由,都有代价;每种选择,都有成本.">
    

    <!--Author-->
    
        <meta name="author" content="Carlosxiao">
    

    <!--Open Graph Title-->
    
        <meta property="og:title" content="angular_html5mode"/>
    

    <!--Open Graph Description-->
    
        <meta property="og:description" content="每种自由,都有代价;每种选择,都有成本." />
    

    <!--Open Graph Site Name-->
    <meta property="og:site_name" content="Carlosxiao"/>

    <!--Type page-->
    
        <meta property="og:type" content="article" />
    

    <!--Page Cover-->
    

    <meta name="twitter:card" content="summary" />
    

    <!-- Title -->
    
    <title>angular_html5mode - Carlosxiao</title>

    <!-- Tachyons Core CSS -->
    <link rel="stylesheet" href="//unpkg.com/tachyons/css/tachyons.min.css">

    <!-- Custom Fonts -->
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" rel="stylesheet" type="text/css">

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="//oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="//oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- <script type="text/javascript">
      var targetProtocol = "https:";
      if (window.location.protocol != targetProtocol) {
        window.location.href = targetProtocol + window.location.href.substring(window.location.protocol.length);
      }
    </script> -->

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/css/style.css">

    <!-- Google Analytics -->
    


</head>


<body>

<!-- Main Content -->
<!-- Banner -->
<!-- Banner -->
<div class="w-100 bg-1 ph5-ns ph3 text-light">
    
    <nav class="db dt-l w-100 mw8 center border-box pv3">
        <a class="db dtc-l v-mid link dim w-100 w-25-l tc tl-l mb2 mb0-l white" href="/" title="Carlosxiao">
            <img src="https://gfs.setsailstar.com/anodyne.svg" class="dib h3" alt="Carlosxiao">
        </a>
        <div class="db dtc-l v-mid w-100 w-75-l tc tr-l">
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/" 
                    title="Home">
                    Home
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/archives" 
                    title="Archives">
                    Archives
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/about.html" 
                    title="About">
                    About
                </a>
            
                <a class="link dim f6 f5-l dib mr3 mr4-l white" 
                    href="/contact.html" 
                    title="Contact">
                    Contact
                </a>
            
        </div>
    </nav>

    <!-- Title -->
    <div class="w-100 mw8 center vh-40 dt">
        <div class="dtc v-mid white">
            <h1 class="f1-l f2-m tc tc-m tl-ns">angular_html5mode</h1>
            <p class="f4 fw3 pab-100px tc tc-m tl-ns">2017-05-29</p>
        </div>
    </div>

    <!-- Icon -->
    <div class="relative w-100 mw8 center white dn dn-m db-ns">
        <i class="header-icon fa fa-file-text-o"></i>
    </div>
</div>

<!-- Content -->
<div class="w-100 ph2 ph4-m ph5-l mv5 mv6-l">
    <div class="content">
        <div class="mw8 center">
            <div class="cf">
                <div class="fl w-100 w-70-l mw7 left fw3 lh-copy pr4-ns pr0-m post-content">
                    <!-- Tags Vertical -->
                    
                        <div class="tags-container-vertical">
                            <div class="tags-sub-container">
                                <a class="fw3 ph1 dib" href="/tags/angular/">#angular</a>
                            </div>
                        </div>
                    

                    <!-- Main Post Content -->
                    <blockquote>
<p>he browser location bar is perhaps the geekiest mainstream piece of user interface in the world. There are URLs on billboards, on the sides of trains, and even in street graffiti. Combined with the back button — easily the most important button in the browser — you have a powerful way to go forward and backward through the vast set of intertwingled resources called the Web.</p>
<p><strong>The HTML5 history API</strong> is a standardized way to manipulate the browser history via script. Part of this API — navigating the history — has been available in previous versions of HTML. The new parts in HTML5 include a way to add entries to the browser history, to visibly change the URL in the browser location bar (without triggering a page refresh), and an event that fires when those entries are removed from the stack by the user pressing the browser’s back button. This means that the URL in the browser location bar can continue to do its job as a unique identifier for the current resource, even in script-heavy applications that don’t ever perform a full page refresh.</p>
</blockquote>
<h2 id="Angularjs-html5model-settings"><a href="#Angularjs-html5model-settings" class="headerlink" title="Angularjs html5model settings"></a>Angularjs html5model settings</h2><p><strong>AngularJS</strong>  默认使用一个 # 号来对URL进行路由.<br>比如：</p>
<ul>
<li><a href="http://domain.com/" target="_blank" rel="external">http://domain.com/</a></li>
<li><a href="http://domain.com/#/abount" target="_blank" rel="external">http://domain.com/#/abount</a></li>
<li><a href="http://domain.com/#main" target="_blank" rel="external">http://domain.com/#main</a></li>
</ul>
<p>想要去除<code>#</code>号需要完成一下步骤</p>
<ul>
<li><p>配置 $locationProvider</p>
</li>
<li><p>设置我们的相对连接的起点路径</p>
</li>
</ul>
<h3 id="location-服务"><a href="#location-服务" class="headerlink" title="$location 服务"></a>$location 服务</h3><p>在Angular中, $location服务会解析地址栏中的URL，并对你的应用程序作出改变，反之亦然.<br> <code>Angular $location</code> <a href="http://docs.angularjs.org/guide/dev_guide.services.$location" target="_blank" rel="external">官方文档</a></p>
<h3 id="locationProvider-和-html5-模式（html5Mode）"><a href="#locationProvider-和-html5-模式（html5Mode）" class="headerlink" title="$locationProvider 和 html5 模式（html5Mode）"></a>$locationProvider 和 html5 模式（html5Mode）</h3><p>我们会使用 $locationProvider 模块，并将html5Mode设置为true.我们会在你定义Angular应用程序并配置你的路由时做这些.<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">angular.module(<span class="string">'scotchy'</span>, [])</div><div class="line">  .config(<span class="function"><span class="keyword">function</span>(<span class="params">$routeProvider, $locationProvider</span>) </span>&#123;</div><div class="line">	$routeProvider</div><div class="line">           .when(<span class="string">'/'</span>, &#123;</div><div class="line">               <span class="attr">templateUrl</span> : <span class="string">'partials/home.html'</span>,</div><div class="line">               <span class="attr">controller</span> : mainController</div><div class="line">           &#125;)</div><div class="line">           .when(<span class="string">'/about'</span>, &#123;</div><div class="line">               <span class="attr">templateUrl</span> : <span class="string">'partials/about.html'</span>,</div><div class="line">               <span class="attr">controller</span> : mainController</div><div class="line">           &#125;)</div><div class="line">           .when(<span class="string">'/contact'</span>, &#123;</div><div class="line">               <span class="attr">templateUrl</span> : <span class="string">'partials/contact.html'</span>,</div><div class="line">               <span class="attr">controller</span> : mainController</div><div class="line">           &#125;);</div><div class="line"></div><div class="line">       <span class="comment">// use the HTML5 History API</span></div><div class="line">       $locationProvider.html5Mode(<span class="literal">true</span>);</div><div class="line">   &#125;);</div></pre></td></tr></table></figure></p>
<h3 id="web-服务器设置"><a href="#web-服务器设置" class="headerlink" title="web 服务器设置"></a>web 服务器设置</h3><p>nginx 配置<br><figure class="highlight nginx"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">server_name</span>  angularjs.me;</div><div class="line"><span class="comment">#charset koi8-r;</span></div><div class="line"><span class="attribute">access_log</span>  logs/angularjs.me.access.log;</div><div class="line"><span class="attribute">location</span> / &#123;</div><div class="line">     <span class="attribute">root</span>   /Library/WebServer/Documents/angularjs;</div><div class="line">     <span class="attribute">index</span>  index.html index.htm;</div><div class="line">     <span class="comment">#就是增加了下面这句才好。。。</span></div><div class="line">     <span class="attribute">try_files</span> <span class="variable">$uri</span> <span class="variable">$uri</span>/ /index.html =<span class="number">404</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>

                    
                    <!-- Tags Bottom -->
                    
                        <div class="tags-container-bottom">
                            <i class="fa fa-tag pr3 text-main-color"></i><a class="fw3 ph1 dib" href="/tags/angular/">#angular</a>
                        </div>
                    

                    <!-- Comments -->
                    
<div id="disqus_thread" class="mt5">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>




                </div>
                <div class="fl w-100 w-30-l center fw3 lh-copy pl4-ns tl black-50">
                    
                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 1: About -->
                    <div class="mt5 mt0-l">
    <article class="dt db-l mw8 mw8-m mw5-ns center ml0-l bg-white mv3">
        <div class="dn dtc-m db-l v-mid tc pr4 pr0-l" style="min-width: 6rem;">
            <img src="https://gfs.setsailstar.com/mt.jpg" class="mb4-l br-100 h3 w3 h4-l w4-l dib" title="Carlosxiao">
        </div>
        <div class="dtc db-l v-mid lh-copy measure center f6 black-50 tj">
            My name is Jonathan Klughertz and this is my blog.<br>I am a full stack software engineer with a strong front-end focus.<br> I currently live and work in Singapore, hit me up if you are in the region.
        </div>
    </article>
</div>

                    <hr class="dn-l mw4 black-50 mt5" />
                    
                    <!-- Widget 2: Categories -->
                    
                        <div class="mt5 tc tl-l">
    <h3>Categories</h3>
    
        <p>
            <a href="/categories/how-to-article/">how-to-article</a>
        </p>
    
</div>


                        <hr class="dn-l mw4 black-50 mt5" />
                    

                    <!-- Widget 3: Recent Posts -->
                    <div class="mt5 tc tl-l">
    <h3>Recent Posts</h3>
    
        <p>
            <a href="/2017/08/11/reids-cluster/">Redis 3.2.9集群安装配置</a>
        </p>
    
        <p>
            <a href="/2017/06/17/build-hadoop-cluster-with-docker/">Docker安装Hadoop完全分布式集群</a>
        </p>
    
        <p>
            <a href="/2017/06/17/docker-command/">Docker 命令详解</a>
        </p>
    
        <p>
            <a href="/2017/05/29/angular-html5mode/">angular_html5mode</a>
        </p>
    
        <p>
            <a href="/2017/05/27/git-simple-guide/">git simple guide</a>
        </p>
    
</div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Footer -->
<div class="bg-1 ph2 ph5-ns pv5">
        <div class="mv8">
            <div class="center tc">
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://github.com/carlosxiao" target="_blank">
                            <i class="fa fa-github"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="https://plus.google.com/" target="_blank">
                            <i class="fa fa-google-plus"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="mailto:carlosxiao@dr.com" target="_blank">
                            <i class="fa fa-envelope"></i>
                        </a>
                    </div>
                
                    <div class="dib mh3">
                        <a class="f3 f2-ns white dim" href="/#" target="_blank">
                            <i class="fa fa-rss"></i>
                        </a>
                    </div>
                
            </div>
            <div class="f6 f5-ns center tc white pt5 fw3">
                @Carlosxiao. All right reserved
            </div>
        </div>
    </div>

<!-- After Footer -->
<!-- Disqus Comments -->

<script type="text/javascript">
    var disqus_shortname = 'carlosxiaocc';

    (function(){
        var dsq = document.createElement('script');
        dsq.type = 'text/javascript';
        dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>



</body>

</html>